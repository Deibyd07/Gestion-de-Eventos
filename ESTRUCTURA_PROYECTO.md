# üìÅ Estructura del Proyecto - EventHub

## üèóÔ∏è Arquitectura del Proyecto

Este proyecto sigue una **arquitectura basada en features** con separaci√≥n clara de responsabilidades.

```
eventhub/
‚îú‚îÄ‚îÄ üìÑ Archivos de configuraci√≥n ra√≠z
‚îú‚îÄ‚îÄ üìÇ database/              # Scripts SQL de base de datos
‚îú‚îÄ‚îÄ üìÇ dist/                  # Build de producci√≥n (generado)
‚îú‚îÄ‚îÄ üìÇ node_modules/          # Dependencias (generado)
‚îú‚îÄ‚îÄ üìÇ public/                # Assets est√°ticos p√∫blicos
‚îî‚îÄ‚îÄ üìÇ src/                   # C√≥digo fuente principal
    ‚îú‚îÄ‚îÄ üìÇ assets/            # Recursos est√°ticos (im√°genes, estilos globales)
    ‚îú‚îÄ‚îÄ üìÇ core/              # Funcionalidad core de la aplicaci√≥n
    ‚îú‚îÄ‚îÄ üìÇ features/          # Features organizados por dominio
    ‚îú‚îÄ‚îÄ üìÇ shared/            # Componentes y utilidades compartidas
    ‚îú‚îÄ‚îÄ App.tsx               # Componente principal de la aplicaci√≥n
    ‚îú‚îÄ‚îÄ main.tsx              # Punto de entrada de React
    ‚îú‚îÄ‚îÄ index.css             # Estilos globales
    ‚îî‚îÄ‚îÄ vite-env.d.ts         # Tipos de Vite
```

---

## üìÇ Estructura Detallada

### üéØ `/src/core/` - Funcionalidad Central

Contiene la l√≥gica de negocio principal y servicios centralizados.

```
core/
‚îú‚îÄ‚îÄ services/               # Servicios de la aplicaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ api.ts             # Cliente API principal
‚îÇ   ‚îú‚îÄ‚îÄ emailService.ts    # Servicio de emails
‚îÇ   ‚îú‚îÄ‚îÄ paymentService.ts  # Procesamiento de pagos
‚îÇ   ‚îú‚îÄ‚îÄ qrService.ts       # Generaci√≥n de c√≥digos QR
‚îÇ   ‚îî‚îÄ‚îÄ supabaseServiceEspanol.ts  # Wrapper de Supabase
‚îú‚îÄ‚îÄ stores/                # Estado global (Zustand)
‚îÇ   ‚îú‚îÄ‚îÄ analyticsStore.ts  # Estado de anal√≠ticas
‚îÇ   ‚îú‚îÄ‚îÄ authStore.ts       # Estado de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ cartStore.ts       # Carrito de compras
‚îÇ   ‚îú‚îÄ‚îÄ eventStore.ts      # Estado de eventos
‚îÇ   ‚îú‚îÄ‚îÄ notificationStore.ts  # Notificaciones
‚îÇ   ‚îî‚îÄ‚îÄ purchaseStore.ts   # Estado de compras
‚îî‚îÄ‚îÄ supabase.ts            # Cliente de Supabase configurado
```

**Prop√≥sito**: 
- Servicios reutilizables en toda la aplicaci√≥n
- Gesti√≥n de estado global
- Configuraci√≥n de clientes externos (Supabase, APIs)

---

### üé® `/src/features/` - Features por Dominio

Cada feature es un m√≥dulo independiente con su propia estructura.

#### üìä `/features/admin/` - Panel de Administraci√≥n

```
admin/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/         # Componentes del dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminDashboardNew.tsx      # Dashboard principal
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminProfilePanel.tsx      # Panel de perfil
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NotificationsDashboard.tsx # Gesti√≥n de notificaciones
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PaymentsDashboard.tsx      # Dashboard de pagos
‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EventManagement.tsx        # Gesti√≥n de eventos
‚îÇ   ‚îú‚îÄ‚îÄ system/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SystemHealth.tsx           # Salud del sistema
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SystemManagement.tsx       # Gesti√≥n del sistema
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îî‚îÄ‚îÄ UserManagementAdvanced.tsx # Gesti√≥n avanzada de usuarios
‚îî‚îÄ‚îÄ pages/
    ‚îî‚îÄ‚îÄ AdminPage.tsx      # P√°gina principal del admin
```

**Prop√≥sito**: Interfaz completa para administradores del sistema

---

#### üìà `/features/analytics/` - Anal√≠ticas y Reportes

```
analytics/
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ AdvancedMetrics.tsx          # M√©tricas avanzadas
    ‚îú‚îÄ‚îÄ AnalyticsDashboard.tsx       # Dashboard principal
    ‚îú‚îÄ‚îÄ Chart.tsx                    # Componente de gr√°ficos
    ‚îú‚îÄ‚îÄ MetricCard.tsx               # Tarjeta de m√©trica
    ‚îú‚îÄ‚îÄ TrendsChart.tsx              # Gr√°fico de tendencias
    ‚îî‚îÄ‚îÄ TrendsDashboardSimple.tsx    # Dashboard simplificado
```

**Prop√≥sito**: Visualizaci√≥n de datos y m√©tricas del negocio

---

#### üîê `/features/auth/` - Autenticaci√≥n y Autorizaci√≥n

```
auth/
‚îî‚îÄ‚îÄ components/
    ‚îú‚îÄ‚îÄ AdminGuard.tsx           # Guard para rutas admin
    ‚îú‚îÄ‚îÄ AdminRedirect.tsx        # Redirecci√≥n de admins
    ‚îú‚îÄ‚îÄ AdminRouteGuard.tsx      # Protecci√≥n de rutas admin
    ‚îú‚îÄ‚îÄ AuthRedirect.tsx         # Redirecci√≥n por auth
    ‚îú‚îÄ‚îÄ LoginRequiredModal.tsx   # Modal de login requerido
    ‚îî‚îÄ‚îÄ ProtectedRoute.tsx       # Rutas protegidas
```

**Prop√≥sito**: Control de acceso y protecci√≥n de rutas

---

#### üé´ `/features/events/` - Gesti√≥n de Eventos

```
events/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ AdvancedEventFilters.tsx    # Filtros avanzados
‚îÇ   ‚îú‚îÄ‚îÄ AttendanceReports.tsx       # Reportes de asistencia
‚îÇ   ‚îú‚îÄ‚îÄ AttendanceScanner.tsx       # Esc√°ner de asistencia
‚îÇ   ‚îú‚îÄ‚îÄ DuplicateEventModal.tsx     # Modal duplicar evento
‚îÇ   ‚îú‚îÄ‚îÄ EarlyBirdPricing.tsx        # Precios early bird
‚îÇ   ‚îú‚îÄ‚îÄ EmailTemplateManager.tsx    # Gesti√≥n de templates
‚îÇ   ‚îú‚îÄ‚îÄ EventCard.tsx               # Tarjeta de evento
‚îÇ   ‚îú‚îÄ‚îÄ EventCustomization.tsx      # Personalizaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ EventFilters.tsx            # Filtros b√°sicos
‚îÇ   ‚îú‚îÄ‚îÄ ImageUpload.tsx             # Subida de im√°genes
‚îÇ   ‚îú‚îÄ‚îÄ NotificationCenter.tsx      # Centro de notificaciones
‚îÇ   ‚îú‚îÄ‚îÄ PromotionalCodes.tsx        # C√≥digos promocionales
‚îÇ   ‚îú‚îÄ‚îÄ PurchaseConfirmation.tsx    # Confirmaci√≥n de compra
‚îÇ   ‚îú‚îÄ‚îÄ PurchaseLimits.tsx          # L√≠mites de compra
‚îÇ   ‚îú‚îÄ‚îÄ QRScanner.tsx               # Esc√°ner QR
‚îÇ   ‚îú‚îÄ‚îÄ TicketQR.tsx                # QR de entrada
‚îÇ   ‚îî‚îÄ‚îÄ Toast.tsx                   # Notificaciones toast
‚îî‚îÄ‚îÄ pages/
    ‚îú‚îÄ‚îÄ AttendancePage.tsx          # P√°gina de asistencia
    ‚îú‚îÄ‚îÄ CheckoutPage.tsx            # P√°gina de checkout
    ‚îú‚îÄ‚îÄ CreateEventPage.tsx         # Crear evento
    ‚îú‚îÄ‚îÄ EventDetailPage.tsx         # Detalle del evento
    ‚îú‚îÄ‚îÄ EventsPage.tsx              # Lista de eventos
    ‚îú‚îÄ‚îÄ HomePage.tsx                # P√°gina de inicio
    ‚îú‚îÄ‚îÄ NotificationsPage.tsx       # P√°gina de notificaciones
    ‚îî‚îÄ‚îÄ TicketsPage.tsx             # Mis entradas
```

**Prop√≥sito**: Core del negocio - toda la funcionalidad de eventos

---

#### üë• `/features/organizer/` - Dashboard de Organizadores

```
organizer/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ analytics/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrganizerAnalytics.tsx      # Anal√≠ticas del organizador
‚îÇ   ‚îú‚îÄ‚îÄ attendees/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AttendeeManagement.tsx      # Gesti√≥n de asistentes
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ OrganizerDashboard.tsx      # Dashboard principal
‚îÇ   ‚îú‚îÄ‚îÄ events/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ EventManagementAdvanced.tsx # Gesti√≥n avanzada
‚îÇ   ‚îú‚îÄ‚îÄ promotions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PromotionManagement.tsx     # Gesti√≥n de promociones
‚îÇ   ‚îî‚îÄ‚îÄ tickets/
‚îÇ       ‚îî‚îÄ‚îÄ TicketManagement.tsx        # Gesti√≥n de entradas
‚îî‚îÄ‚îÄ pages/
    ‚îî‚îÄ‚îÄ OrganizerDashboard.tsx          # P√°gina principal
```

**Prop√≥sito**: Herramientas para organizadores de eventos

---

#### üë§ `/features/users/` - Gesti√≥n de Usuarios

```
users/
‚îî‚îÄ‚îÄ pages/
    ‚îî‚îÄ‚îÄ ProfilePage.tsx    # P√°gina de perfil de usuario
```

**Prop√≥sito**: Funcionalidad relacionada con usuarios finales

---

### üîÑ `/src/shared/` - C√≥digo Compartido

Componentes, utilidades y recursos reutilizables en toda la aplicaci√≥n.

```
shared/
‚îú‚îÄ‚îÄ components/              # Componentes compartidos
‚îÇ   ‚îú‚îÄ‚îÄ layout/             # Componentes de layout
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx      # Footer global
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.tsx      # Header global
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Layout.tsx      # Layout wrapper
‚îÇ   ‚îú‚îÄ‚îÄ AuthDebug.tsx       # Debug de autenticaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ EnhancedCart.tsx    # Carrito mejorado
‚îÇ   ‚îú‚îÄ‚îÄ FloatingCart.tsx    # Carrito flotante
‚îÇ   ‚îú‚îÄ‚îÄ FloatingCartButton.tsx  # Bot√≥n del carrito
‚îÇ   ‚îú‚îÄ‚îÄ PaymentForm.tsx     # Formulario de pago
‚îÇ   ‚îú‚îÄ‚îÄ PaymentMethodsConfig.tsx  # Config de m√©todos
‚îÇ   ‚îî‚îÄ‚îÄ PaymentProcessor.tsx     # Procesador de pagos
‚îî‚îÄ‚îÄ utils/                  # Utilidades compartidas
    ‚îú‚îÄ‚îÄ currency.ts         # Formateo de moneda
    ‚îî‚îÄ‚îÄ date.ts             # Utilidades de fechas
```

**Prop√≥sito**: C√≥digo reutilizable sin l√≥gica de negocio espec√≠fica

---

### üé® `/src/assets/` - Recursos Est√°ticos

```
assets/
‚îî‚îÄ‚îÄ styles/
    ‚îî‚îÄ‚îÄ scrollbar-simple.css    # Estilos personalizados de scrollbar
```

**Prop√≥sito**: Estilos globales, im√°genes, fuentes, etc.

---

## üéØ Convenciones de Nombres

### Archivos y Carpetas
- **PascalCase** para componentes: `EventCard.tsx`, `UserProfile.tsx`
- **camelCase** para utilidades: `currency.ts`, `dateUtils.ts`
- **kebab-case** para archivos CSS: `scrollbar-simple.css`
- **lowercase** para carpetas: `components/`, `pages/`, `utils/`

### Componentes
```tsx
// ‚úÖ Correcto
export function EventCard() { }
export const EventCard: React.FC = () => { }

// ‚ùå Incorrecto
export default function eventCard() { }
```

### Stores (Zustand)
```tsx
// ‚úÖ Correcto
export const useAuthStore = create<AuthState>(...);

// Uso
const { user, login } = useAuthStore();
```

---

## üì¶ Patrones de Importaci√≥n

### Orden de Imports
```tsx
// 1. Librer√≠as externas
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';

// 2. Stores y servicios core
import { useAuthStore } from '@/core/stores/authStore';
import { api } from '@/core/services/api';

// 3. Componentes compartidos
import { Header } from '@/shared/components/layout/Header';

// 4. Componentes locales
import { EventCard } from './EventCard';

// 5. Tipos
import type { Event } from '@/types';

// 6. Estilos (si aplica)
import './styles.css';
```

### Alias de Rutas (Path Mapping)
```typescript
// tsconfig.json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"],
      "@core/*": ["./src/core/*"],
      "@features/*": ["./src/features/*"],
      "@shared/*": ["./src/shared/*"]
    }
  }
}
```

---

## üîÑ Flujo de Datos

```
Usuario Interact√∫a
    ‚Üì
Componente (UI)
    ‚Üì
Store (Estado Global) ‚Üê‚Üí Service (L√≥gica)
    ‚Üì
Supabase/API (Backend)
```

---

## üìù Mejores Pr√°cticas

### 1. **Separaci√≥n de Responsabilidades**
- **Components**: Solo presentaci√≥n y UI
- **Stores**: Gesti√≥n de estado
- **Services**: L√≥gica de negocio y comunicaci√≥n con API

### 2. **Composici√≥n sobre Herencia**
```tsx
// ‚úÖ Bueno
<Layout>
  <EventsPage />
</Layout>

// ‚ùå Evitar
class EventsPage extends LayoutComponent
```

### 3. **Single Responsibility**
Cada archivo/componente debe tener una sola responsabilidad clara.

### 4. **DRY (Don't Repeat Yourself)**
Extraer c√≥digo repetido a componentes compartidos o utilidades.

### 5. **Nomenclatura Clara**
Los nombres deben ser descriptivos y auto-explicativos.

---

## üöÄ Agregar Nuevo Feature

### Pasos para agregar un nuevo feature:

1. **Crear estructura de carpeta**:
```bash
src/features/nuevo-feature/
‚îú‚îÄ‚îÄ components/
‚îú‚îÄ‚îÄ pages/
‚îî‚îÄ‚îÄ index.ts  # Exportaciones p√∫blicas
```

2. **Crear componentes necesarios**:
```tsx
// components/NuevoComponente.tsx
export function NuevoComponente() {
  return <div>Contenido</div>;
}
```

3. **Crear p√°gina si es necesaria**:
```tsx
// pages/NuevoFeaturePage.tsx
export function NuevoFeaturePage() {
  return <NuevoComponente />;
}
```

4. **Agregar ruta en App.tsx**:
```tsx
<Route path="/nuevo-feature" element={<NuevoFeaturePage />} />
```

5. **Crear store si necesita estado global**:
```tsx
// core/stores/nuevoFeatureStore.ts
export const useNuevoFeatureStore = create<State>((set) => ({
  // estado y acciones
}));
```

---

## üé® Estilos

### Tailwind CSS
- **Primera opci√≥n** para estilos
- Clases utilitarias directamente en JSX
- Sigue el sistema de dise√±o en `DESIGN_SYSTEM.md`

### CSS Modules (si es necesario)
```tsx
import styles from './Component.module.css';

<div className={styles.container}>
```

### CSS Global
Solo para:
- Reset de estilos
- Scrollbars personalizados
- Variables CSS globales

---

## üìö Recursos Adicionales

- **Sistema de Dise√±o**: Ver `DESIGN_SYSTEM.md`
- **Base de Datos**: Ver `database/` para scripts SQL
- **Configuraci√≥n de Supabase**: Ver `SUPABASE_SETUP.md`

---

## üîß Scripts Disponibles

```bash
# Desarrollo
npm run dev

# Build de producci√≥n
npm run build

# Preview del build
npm run preview

# Linting
npm run lint

# Type checking
npm run typecheck
```

---

**√öltima actualizaci√≥n**: Octubre 2025  
**Versi√≥n**: 1.0

